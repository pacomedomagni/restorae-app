/**
 * Complete Breathing Patterns Library
 * 15 patterns as specified in RESTORAE_SPEC.md
 */

import { BreathingPattern } from '../types';

export const BREATHING_PATTERNS: BreathingPattern[] = [
  // 1. Box Breathing
  {
    id: 'box-breathing',
    name: 'Box Breathing',
    description: 'Used by Navy SEALs to stay calm under pressure',
    inhale: 4,
    hold1: 4,
    exhale: 4,
    hold2: 4,
    cycles: 4,
    duration: '3 min',
    category: 'focus',
    bestFor: 'Focus, reset',
  },
  // 2. 4-7-8 Calm
  {
    id: '4-7-8-calm',
    name: '4-7-8 Calm',
    description: "Dr. Weil's relaxation technique for anxiety and sleep",
    inhale: 4,
    hold1: 7,
    exhale: 8,
    hold2: 0,
    cycles: 4,
    duration: '2 min',
    category: 'calm',
    bestFor: 'Anxiety, sleep',
  },
  // 3. Energizing Breath
  {
    id: 'energizing-breath',
    name: 'Energizing Breath',
    description: 'Quick bursts to boost energy and alertness',
    inhale: 2,
    hold1: 0,
    exhale: 2,
    hold2: 0,
    cycles: 15,
    duration: '1 min',
    category: 'energy',
    bestFor: 'Low energy',
  },
  // 4. Slow Wave
  {
    id: 'slow-wave',
    name: 'Slow Wave',
    description: 'Extended exhale for deep parasympathetic activation',
    inhale: 4,
    hold1: 0,
    exhale: 8,
    hold2: 0,
    cycles: 6,
    duration: '3 min',
    category: 'calm',
    bestFor: 'Deep calm',
  },
  // 5. Heart Coherence
  {
    id: 'heart-coherence',
    name: 'Heart Coherence',
    description: 'Balanced rhythm for emotional regulation',
    inhale: 5,
    hold1: 0,
    exhale: 5,
    hold2: 0,
    cycles: 12,
    duration: '2 min',
    category: 'balance',
    bestFor: 'Emotional balance',
  },
  // 6. Breath Hold
  {
    id: 'breath-hold',
    name: 'Breath Hold',
    description: 'Interrupt panic with controlled breath retention',
    inhale: 4,
    hold1: 7,
    exhale: 4,
    hold2: 0,
    cycles: 4,
    duration: '90 sec',
    category: 'emergency',
    bestFor: 'Panic interrupt',
  },
  // 7. Ocean Breath
  {
    id: 'ocean-breath',
    name: 'Ocean Breath',
    description: 'Wave-like rhythm for meditation preparation',
    inhale: 5,
    hold1: 2,
    exhale: 6,
    hold2: 2,
    cycles: 6,
    duration: '3 min',
    category: 'calm',
    bestFor: 'Meditation prep',
  },
  // 8. Triangle Breath
  {
    id: 'triangle-breath',
    name: 'Triangle Breath',
    description: 'Simple three-part pattern for quick reset',
    inhale: 4,
    hold1: 4,
    exhale: 4,
    hold2: 0,
    cycles: 6,
    duration: '90 sec',
    category: 'focus',
    bestFor: 'Simple reset',
  },
  // 9. Extended Exhale
  {
    id: 'extended-exhale',
    name: 'Extended Exhale',
    description: 'Progressive exhale lengthening for nervous system calm',
    inhale: 4,
    hold1: 2,
    exhale: 6,
    hold2: 0,
    cycles: 6,
    duration: '2 min',
    category: 'calm',
    bestFor: 'Nervous system calm',
  },
  // 10. Morning Rise
  {
    id: 'morning-rise',
    name: 'Morning Rise',
    description: 'Energizing progression to wake up your body',
    inhale: 3,
    hold1: 2,
    exhale: 3,
    hold2: 0,
    cycles: 8,
    duration: '2 min',
    category: 'energy',
    bestFor: 'Wake up',
  },
  // 11. Sleep Descent
  {
    id: 'sleep-descent',
    name: 'Sleep Descent',
    description: 'Gradually slowing pattern for sleep preparation',
    inhale: 4,
    hold1: 4,
    exhale: 8,
    hold2: 4,
    cycles: 6,
    duration: '4 min',
    category: 'sleep',
    bestFor: 'Before bed',
  },
  // 12. Stress Release
  {
    id: 'stress-release',
    name: 'Stress Release',
    description: 'Sighing exhales to release acute tension',
    inhale: 4,
    hold1: 2,
    exhale: 6,
    hold2: 0,
    cycles: 6,
    duration: '90 sec',
    category: 'emergency',
    bestFor: 'Acute stress',
  },
  // 13. Focus Sharpener
  {
    id: 'focus-sharpener',
    name: 'Focus Sharpener',
    description: 'Rhythmic holds to sharpen concentration',
    inhale: 4,
    hold1: 4,
    exhale: 4,
    hold2: 2,
    cycles: 6,
    duration: '2 min',
    category: 'focus',
    bestFor: 'Pre-task',
  },
  // 14. Anger Cool-Down
  {
    id: 'anger-cooldown',
    name: 'Anger Cool-Down',
    description: 'Long exhales to release frustration safely',
    inhale: 4,
    hold1: 2,
    exhale: 8,
    hold2: 2,
    cycles: 5,
    duration: '2 min',
    category: 'emergency',
    bestFor: 'Frustration',
  },
  // 15. Confidence Builder
  {
    id: 'confidence-builder',
    name: 'Confidence Builder',
    description: 'Power breathing before challenging situations',
    inhale: 5,
    hold1: 3,
    exhale: 5,
    hold2: 0,
    cycles: 6,
    duration: '90 sec',
    category: 'energy',
    bestFor: 'Before challenges',
  },
  // 16. Wim Hof Light
  {
    id: 'wim-hof-light',
    name: 'Wim Hof Light',
    description: 'Gentle intro to energizing breath retention',
    inhale: 2,
    hold1: 0,
    exhale: 2,
    hold2: 0,
    cycles: 20,
    duration: '2 min',
    category: 'energy',
    bestFor: 'Morning energy',
  },
  // 17. Alternate Nostril Prep
  {
    id: 'alternate-nostril',
    name: 'Alternate Nostril',
    description: 'Balancing breath for mental clarity',
    inhale: 4,
    hold1: 4,
    exhale: 4,
    hold2: 4,
    cycles: 6,
    duration: '3 min',
    category: 'balance',
    bestFor: 'Mental balance',
  },
  // 18. 2-1-4-1 Calming
  {
    id: 'calming-ratio',
    name: '2-1-4-1 Ratio',
    description: 'Double exhale ratio for deep relaxation',
    inhale: 3,
    hold1: 1,
    exhale: 6,
    hold2: 1,
    cycles: 8,
    duration: '3 min',
    category: 'calm',
    bestFor: 'Deep relaxation',
  },
  // 19. Quick Reset
  {
    id: 'quick-reset',
    name: 'Quick Reset',
    description: '60-second pattern for instant calm',
    inhale: 3,
    hold1: 2,
    exhale: 4,
    hold2: 0,
    cycles: 6,
    duration: '1 min',
    category: 'emergency',
    bestFor: 'Quick calm',
  },
  // 20. Belly Breath
  {
    id: 'belly-breath',
    name: 'Belly Breath',
    description: 'Deep diaphragmatic breathing for beginners',
    inhale: 5,
    hold1: 0,
    exhale: 5,
    hold2: 0,
    cycles: 6,
    duration: '2 min',
    category: 'calm',
    bestFor: 'Beginners',
  },
  // 21. Resonance Breathing
  {
    id: 'resonance-breathing',
    name: 'Resonance',
    description: '5.5 breaths per minute for HRV optimization',
    inhale: 5,
    hold1: 0,
    exhale: 6,
    hold2: 0,
    cycles: 10,
    duration: '4 min',
    category: 'balance',
    bestFor: 'Heart health',
  },
  // 22. Power Exhale
  {
    id: 'power-exhale',
    name: 'Power Exhale',
    description: 'Forceful exhales to release stuck energy',
    inhale: 2,
    hold1: 0,
    exhale: 4,
    hold2: 1,
    cycles: 10,
    duration: '90 sec',
    category: 'energy',
    bestFor: 'Energy release',
  },
  // 23. Lunar Breath
  {
    id: 'lunar-breath',
    name: 'Lunar Breath',
    description: 'Cooling breath for overheated emotions',
    inhale: 6,
    hold1: 2,
    exhale: 6,
    hold2: 0,
    cycles: 6,
    duration: '2 min',
    category: 'calm',
    bestFor: 'Cooling down',
  },
  // 24. Solar Breath
  {
    id: 'solar-breath',
    name: 'Solar Breath',
    description: 'Warming breath to build inner fire',
    inhale: 3,
    hold1: 3,
    exhale: 3,
    hold2: 0,
    cycles: 10,
    duration: '2 min',
    category: 'energy',
    bestFor: 'Building energy',
  },
  // 25. Counting Breath
  {
    id: 'counting-breath',
    name: 'Counting Breath',
    description: 'Simple counting to anchor wandering mind',
    inhale: 4,
    hold1: 0,
    exhale: 4,
    hold2: 0,
    cycles: 10,
    duration: '2 min',
    category: 'focus',
    bestFor: 'Mind anchor',
  },
  // 26. Deep Sleep Prep
  {
    id: 'deep-sleep-prep',
    name: 'Deep Sleep Prep',
    description: 'Extended exhales to trigger sleep response',
    inhale: 4,
    hold1: 2,
    exhale: 10,
    hold2: 2,
    cycles: 5,
    duration: '4 min',
    category: 'sleep',
    bestFor: 'Insomnia',
  },
  // 27. Meeting Calm
  {
    id: 'meeting-calm',
    name: 'Meeting Calm',
    description: 'Discrete breathing for stressful meetings',
    inhale: 3,
    hold1: 3,
    exhale: 3,
    hold2: 0,
    cycles: 4,
    duration: '45 sec',
    category: 'focus',
    bestFor: 'Meetings',
  },
  // 28. Post-Workout Recovery
  {
    id: 'post-workout',
    name: 'Recovery Breath',
    description: 'Slow breathing to exit fight-or-flight',
    inhale: 5,
    hold1: 2,
    exhale: 7,
    hold2: 2,
    cycles: 6,
    duration: '3 min',
    category: 'calm',
    bestFor: 'Post-exercise',
  },
  // 29. Gratitude Breath
  {
    id: 'gratitude-breath',
    name: 'Gratitude Breath',
    description: 'Combine breathing with appreciation',
    inhale: 5,
    hold1: 3,
    exhale: 5,
    hold2: 3,
    cycles: 6,
    duration: '3 min',
    category: 'balance',
    bestFor: 'Mindfulness',
  },
  // 30. Tension Release
  {
    id: 'tension-release',
    name: 'Tension Release',
    description: 'Body scan breathing for physical tension',
    inhale: 4,
    hold1: 4,
    exhale: 6,
    hold2: 2,
    cycles: 6,
    duration: '3 min',
    category: 'calm',
    bestFor: 'Body tension',
  },
  // 31. Focus Flow
  {
    id: 'focus-flow',
    name: 'Focus Flow',
    description: 'Get into flow state before creative work',
    inhale: 4,
    hold1: 2,
    exhale: 4,
    hold2: 0,
    cycles: 8,
    duration: '2 min',
    category: 'focus',
    bestFor: 'Creative work',
  },
  // 32. Midday Reset
  {
    id: 'midday-reset',
    name: 'Midday Reset',
    description: 'Beat the afternoon slump',
    inhale: 3,
    hold1: 2,
    exhale: 3,
    hold2: 2,
    cycles: 8,
    duration: '2 min',
    category: 'energy',
    bestFor: 'Afternoon slump',
  },
];

export const BREATHING_CATEGORIES = [
  { id: 'all', label: 'All', icon: 'âœ¨' },
  { id: 'calm', label: 'Calm', icon: 'ğŸŒŠ' },
  { id: 'focus', label: 'Focus', icon: 'ğŸ¯' },
  { id: 'energy', label: 'Energy', icon: 'âš¡' },
  { id: 'sleep', label: 'Sleep', icon: 'ğŸŒ™' },
  { id: 'emergency', label: 'SOS', icon: 'ğŸ†˜' },
  { id: 'balance', label: 'Balance', icon: 'â˜¯ï¸' },
] as const;

export type BreathingCategory = typeof BREATHING_CATEGORIES[number]['id'];

export function getPatternsByCategory(category: BreathingCategory): BreathingPattern[] {
  if (category === 'all') return BREATHING_PATTERNS;
  return BREATHING_PATTERNS.filter(p => p.category === category);
}

export function getPatternById(id: string): BreathingPattern | undefined {
  return BREATHING_PATTERNS.find(p => p.id === id);
}
